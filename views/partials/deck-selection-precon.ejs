<form method="POST" action="/deck" class="precon-input-section">
  <label class="deck-label">Choose a preconstructed deck to play</label>
  <input type="hidden" name="deck-source" value="precon" />
  <div class="precon-search-container">
    <input 
      type="text" 
      id="precon-search" 
      class="precon-search-input" 
      placeholder="Search by deck name, commander, or set..." 
      autocomplete="off"
    />
  </div>
  <div class="precon-tiles-container">
    <% availableDecks.forEach(function(deck, index) { %>
      <button type="submit" name="precon-deck" value="<%= deck.localFile %>" class="precon-tile" style="--animation-order: <%= index %>;">
        <div class="tile-commander-art">
          <img src="<%= deck.metadata.commanders[0].imageUrl %>" alt="<%= deck.metadata.commanders[0].name %>" />
        </div>
        <div class="tile-content">
          <div class="tile-deck-name"><%= deck.description %></div>
          <div class="tile-commanders">
            <% deck.metadata.commanders.forEach(function(commander, index) { %>
              <div class="tile-commander">
                <span class="commander-colors">
                  <% commander.colorIdentity.forEach(function(colorCode) { %>
                    <img src="/images/<%= colorCode %>.svg" alt="<%= colorCode %>" class="color-icon" />
                    <%  }); %>
                  </span>
                  <span class="commander-name"><%= commander.name %></span>
              </div>
            <% }); %>
          </div>
          <% const firstCommander = deck.metadata.commanders[0]; %>
            <div class="tile-meta">
              <span><%= firstCommander.set.replace(/ Commander$/, '') %></span>
              <% if (deck.metadata.releaseDate) { %>
                <span class="tile-release-date"><%= deck.metadata.releaseDate %></span>
              <% } %>
            </div>
        </div>
      </button>
    <% }); %>
  </div>
</form>
