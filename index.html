<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MTG Deck Shuffler</title>
    <link rel="stylesheet" href="styles.css" />
    <!-- <script src="https://unpkg.com/htmx.org@2.0.6"></script> -->
      <script src="/hny.js"></script>
      <script
           Hny.initializeTracing({  apiKey: "hcaik_01k2w35rpw2nd6veywr5xkrzfnhee3byvr9syx8bvs8qgh7jnpf1y7rpqf",
          serviceName: "mtg-deck-shuffler-web",
          debug: false,
          provideOneLinkToHoneycomb: true,
        });
      ></script>
      <script src="/htmx.js"></script>
      <script>
        async function playCard(imageUrl, cardName, buttonElement) {
          try {
            // Fetch the image as a blob
            const response = await fetch(imageUrl);
            if (!response.ok) {
              throw new Error('Failed to fetch image');
            }
            const blob = await response.blob();
            
            // Copy to clipboard
            await navigator.clipboard.write([
              new ClipboardItem({
                [blob.type]: blob
              })
            ]);
            
            // Remove the card from the hand visually
            const cardContainer = buttonElement.parentElement;
            cardContainer.style.opacity = '0.5';
            cardContainer.style.transition = 'opacity 0.3s ease';
            
            // Show feedback
            buttonElement.textContent = 'Copied!';
            buttonElement.disabled = true;
            
            setTimeout(() => {
              cardContainer.remove();
            }, 1000);
            
          } catch (err) {
            console.error('Failed to copy image to clipboard:', err);
            buttonElement.textContent = 'Error';
            setTimeout(() => {
              buttonElement.textContent = 'Play';
            }, 2000);
          }
        }
      </script>
  </head>
  <body>
    <h1>*Woohoo it's Magic time!*</h1>

    <div id="deck-input" hx-get="/choose-deck" hx-target="#deck-input" hx-trigger="load">
    </div>
  </body>
</html>
